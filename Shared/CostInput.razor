@using HCatalystProjectCostsSite.Models
@using HCatalystProjectCostsSite.Enums
@using HCatalystProjectCostsSite.Helpers
@using MudBlazor.Extensions

<SubmissionInput submission="@cost.submission"/>

<MudNumericField Class="my-4"
    @bind-Value="@cost.cost"
    Label="Amount" 
    Format="F2" 
    Variant="Variant.Outlined" 
    Adornment="Adornment.Start" 
    AdornmentIcon="@Icons.Material.Filled.AttachMoney"/>

<MudStack Row="true">
    <MudSelect T="Basis" Label="Basis" AnchorOrigin="Origin.BottomCenter" @bind-Value="@cost.basis">
        @foreach(var basis in Enum.GetValues<Basis>())
        {
            <MudSelectItem Value="basis"/>
        }
    </MudSelect>
    <MudPaper Class="pa-2">
        <MudSwitch Checked="cost.recurring" Label="Recurring" Color="Color.Info" />
    </MudPaper>
</MudStack>

@if (cost.recurring)
{
    <MudNumericField Class="my-4"
        @bind-Value="@cost.costRecurring"
        Label="Amount" 
        Format="F2" 
        Variant="Variant.Outlined" 
        Adornment="Adornment.Start" 
        AdornmentIcon="@Icons.Material.Filled.AttachMoney"/>
}



@code {

    [Parameter]
    public Cost cost { get; set; } = new();
    
    
}